{"componentChunkName":"component---src-templates-on-my-mind-thought-js","path":"/on-my-mind/2021-02-15","result":{"data":{"site":{"siteMetadata":{"title":"DEFINITIVELY NOT JAMES","author":"James Ward"}},"thought":{"id":"3e1f7630-c347-5f7c-9072-5cd637c139b6","html":"<p>\n            <img src='https://media.giphy.com/media/3oriNYQX2lC6dfW2Ji/giphy.gif' alt='null' loading='lazy' />\n          </p>\n<p>In Javascript, <a href=\"https://en.wikipedia.org/wiki/Variadic_function\">functions always have variadic arguments</a>.  This leads to\nsome performance hits because there always has to be an adapter when\nusing a JIT compilation.  The adapter required creating a new frame\nin-between the caller and callee frames.\nCreating a frame is super costly.</p>\n<p>On the v8 development website a <a href=\"https://v8.dev/blog/adaptor-frame\">new blog entry was posted</a> which details\nhow this process works and what they’ve done to dramatically improve\nfunction calls by optimizing this javascript feature.</p>\n<p>How’d they solve it?  They work through the arguments array backwards\nso they don’t really need to know how many arguments are in the stack,\nbut they can assume that there’s at least the enough arguments to\nsatisfy the parameter count - even if the arguments are <code class=\"language-text\">undefined</code>.\nThis allows for cutting up the formal parameters and the extra variadic\narguments to pass them to the callee frame in a way that doesn’t require\nextra lookups or an extra frame that will calculate it all.</p>\n<p>No more overhead!  Super fast!</p>","excerpt":"In Javascript, functions always have variadic arguments.  This leads to\nsome performance hits because there always has to be an adapter when…","fields":{"slug":"/2021-02-15"},"frontmatter":{"date":"2021/02/15"}},"previous":{"id":"f103f6b8-f3f2-5f93-90d1-3b96a5339881","fields":{"slug":"/2021-02-11"},"frontmatter":{"date":"2021/02/11"}},"next":{"id":"aa420245-1e5e-59bc-a849-5af4598e5bfb","fields":{"slug":"/2021-02-16"},"frontmatter":{"date":"2021/02/16"}}},"pageContext":{"slug":"/2021-02-15","previous":"/2021-02-11","next":"/2021-02-16"}},"staticQueryHashes":["63159454"]}